{"ast":null,"code":"var _jsxFileName = \"/Users/pamod/Desktop/SA/Bootcamp/SA_Bootcamp_2024/code/BootcampIntegration/ui/hyatt-app/src/pages/NavBar.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Link } from 'react-router-dom';\nimport { useAuthContext } from \"@asgardeo/auth-react\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst logout = signOut => {\n  localStorage.removeItem('authenticated');\n  localStorage.removeItem('userName');\n  localStorage.removeItem('decodedId');\n  localStorage.removeItem('group');\n  signOut();\n};\nconst LoginStatusBar = props => {\n  _s();\n  const {\n    state,\n    signIn,\n    signOut,\n    getDecodedIDToken,\n    getAccessToken\n  } = useAuthContext();\n  let authenticated = localStorage.getItem('authenticated');\n  const decodedToken = async () => {\n    if (state.isAuthenticated === true) {\n      var _token$groups, _token$groups2;\n      let token = await getDecodedIDToken();\n      localStorage.setItem('decodedId', JSON.stringify(token));\n      localStorage.setItem('group', token === null || token === void 0 ? void 0 : (_token$groups = token.groups) === null || _token$groups === void 0 ? void 0 : _token$groups[0]);\n      props.setDecodedGroup(token === null || token === void 0 ? void 0 : (_token$groups2 = token.groups) === null || _token$groups2 === void 0 ? void 0 : _token$groups2[0]);\n    }\n  };\n  const accessToken = async () => {\n    if (state.isAuthenticated === true) {\n      let token = await getAccessToken();\n      localStorage.setItem('accessToken', token);\n    }\n  };\n  if (authenticated != null || state.isAuthenticated === true) {\n    if (authenticated == null) {\n      localStorage.setItem('authenticated', true);\n      localStorage.setItem('userName', state.username);\n      decodedToken();\n      accessToken();\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Text, {\n        children: localStorage.getItem('userName')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n        onClick: () => logout(signOut),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Nav.Link, {\n      onClick: () => signIn(),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this);\n  }\n};\n_s(LoginStatusBar, \"Paiqls8Sv2+/Tm9K1XX872x9Jqo=\", false, function () {\n  return [useAuthContext];\n});\n_c = LoginStatusBar;\nconst Navigation = () => {\n  _s2();\n  const [decodedGroup, setDecodedGroup] = useState('');\n  let group = localStorage.getItem('group');\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    bg: \"light\",\n    expand: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        href: \"#home\",\n        children: \"Hyatt Reservations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n        \"aria-controls\": \"basic-navbar-nav\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        children: /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"me-auto\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            as: Link,\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), group === 'Manager' && /*#__PURE__*/_jsxDEV(Nav.Link, {\n            as: Link,\n            to: \"/reservations\",\n            children: \"Reservations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        className: \"justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(LoginStatusBar, {\n          setDecodedGroup: setDecodedGroup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s2(Navigation, \"2RyzXP3cAZzwisnhDQDbSTK4Tuo=\");\n_c2 = Navigation;\nexport default Navigation;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoginStatusBar\");\n$RefreshReg$(_c2, \"Navigation\");","map":{"version":3,"names":["Container","Nav","Navbar","Link","useAuthContext","useState","jsxDEV","_jsxDEV","logout","signOut","localStorage","removeItem","LoginStatusBar","props","_s","state","signIn","getDecodedIDToken","getAccessToken","authenticated","getItem","decodedToken","isAuthenticated","_token$groups","_token$groups2","token","setItem","JSON","stringify","groups","setDecodedGroup","accessToken","username","children","Text","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","Navigation","_s2","decodedGroup","group","bg","expand","Brand","href","Toggle","Collapse","id","className","as","to","_c2","$RefreshReg$"],"sources":["/Users/pamod/Desktop/SA/Bootcamp/SA_Bootcamp_2024/code/BootcampIntegration/ui/hyatt-app/src/pages/NavBar.jsx"],"sourcesContent":["import Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport { Link } from 'react-router-dom';\nimport { useAuthContext } from \"@asgardeo/auth-react\";\nimport { useState } from 'react';\n\nconst logout = signOut => {\n    localStorage.removeItem('authenticated');\n    localStorage.removeItem('userName');\n    localStorage.removeItem('decodedId');\n    localStorage.removeItem('group');\n    signOut();\n};\n\nconst LoginStatusBar = props => {\n    const { state, signIn, signOut, getDecodedIDToken, getAccessToken } = useAuthContext();\n    let authenticated = localStorage.getItem('authenticated');\n\n    const decodedToken = async () => {\n        if (state.isAuthenticated === true) {\n            let token = await getDecodedIDToken();\n            localStorage.setItem('decodedId', JSON.stringify(token));\n            localStorage.setItem('group', token?.groups?.[0]);\n            props.setDecodedGroup(token?.groups?.[0]);\n        }\n    };\n\n    const accessToken = async () => {\n        if (state.isAuthenticated === true) {\n            let token = await getAccessToken();\n            localStorage.setItem('accessToken', token);\n        }\n    };\n\n    if (authenticated != null || state.isAuthenticated === true) {\n        if (authenticated == null) {\n            localStorage.setItem('authenticated', true);\n            localStorage.setItem('userName', state.username);\n            decodedToken();\n            accessToken();\n        }\n        return (\n            <div>\n                <Navbar.Text>\n                    {localStorage.getItem('userName')}\n                </Navbar.Text>\n                <Nav.Link onClick={() => logout(signOut)}>Logout</Nav.Link>\n            </div>\n        );\n    } else {\n        return <Nav.Link onClick={() => signIn()}>Login</Nav.Link>\n    }\n}\n\nconst Navigation = () => {\n    const [decodedGroup, setDecodedGroup] = useState('');\n    let group = localStorage.getItem('group');\n\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Container>\n                <Navbar.Brand href=\"#home\">Hyatt Reservations</Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"me-auto\">\n                        <Nav.Link as={Link} to=\"/\">Home</Nav.Link>\n                        { group === 'Manager' && <Nav.Link as={Link} to=\"/reservations\">Reservations</Nav.Link>}\n                    </Nav>\n                </Navbar.Collapse>\n                <Navbar.Collapse className=\"justify-content-end\">\n                    <LoginStatusBar setDecodedGroup={setDecodedGroup} />\n                </Navbar.Collapse>\n            </Container>\n        </Navbar>\n    );\n}\n\nexport default Navigation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}